package cn.yan_wm.myalbum.service.tools.controller;

import cn.yan_wm.myalbum.commons.dto.ReturnResult;
import cn.yan_wm.myalbum.commons.module.FastDFSFile;
import cn.yan_wm.myalbum.service.tools.utils.FastDFSUtils;
import io.swagger.annotations.Api;
import lombok.extern.slf4j.Slf4j;
import org.apache.tomcat.util.codec.binary.Base64;
import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.*;

import java.util.ArrayList;
import java.util.List;

/**
 * @program: fastDFSDemo
 * @description: FastDFSController
 * @author: yan_zt
 * @create: 2019-12-27 14:36
 */
@Slf4j
@RestController
@RequestMapping(value = "/fastDFS",produces = MediaType.APPLICATION_JSON_UTF8_VALUE)
@Api(tags = "文件上传服务")
public class FastDFSController {

    @PostMapping(value = "/upload")
    public ReturnResult<List<FastDFSFile>> upload(@RequestBody List<FastDFSFile> fastDFSFileList){
        try{
            for (FastDFSFile item: fastDFSFileList){
                String imgbase = item.getBase64();
                imgbase=imgbase.substring(imgbase.indexOf(",")+1, imgbase.length());
                //上传图片获取图片base64码,然后解码,然后转成字节数组,以流的形式输出到本地
                byte[] decodeBase64 = Base64.decodeBase64(imgbase);
                String[] file = FastDFSUtils.uploadFile(decodeBase64, item.getFileName(), item.getExt());
//                将图片的原base64编码设为空，减少传输
                item.setBase64("");
                item.setGroupName(file[0]);
                item.setFileId(file[1]);
            }

        }catch (Exception e){
            log.error(e.getMessage(),e);
            return ReturnResult.failure("上传失败");
        }
        return ReturnResult.success(fastDFSFileList);

//        FastDFSFile dfsFile = new FastDFSFile();
//        dfsFile.setAuthor("user");
//        dfsFile.setBase64("data:image/jpg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/2Q==");
////        dfsFile.setBase64("data:image/png;base64,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ncBngJ85B2oVPoTUBWhewluBK8icRGHSA1wOfIcqvH1+hJbEoShBHskQugalbkBG1fQh072vYmdjhyV8CDmLR1GCAcRJdDWZJagFZ4f0GwhhxO9G6GlcihL0I/WBLyMbE1RDJ5JhfR0y1Q5d+BBRHp/mI/gispK4o9rrjUI6kHd2IxG1fIfIEjm1McFapCBkFjcoz5NI7sXeCixRCR8izuTVZgd3A2cCv47yN+sYC/HwnYlM9UId7XsReSq35id4GFiBbByRBZCG6UGqra0gRCdPEGLJ5deUYBuSYPIhhruE0bzq50mke1yN4t6NQ/gQYzEHTQn2IE6NU5Gl5r2MPiXoRZZxvRPZR2mP80VcwofoN4wYgaMESrLpo8iA5xhGz1SxCPwdmR3dhb2YA+IVvEMi5Vw0a9AN/AKZ9zY6mxC/yHLgeyQsfIjZAqi4WING5mngTmTrnMdRVoUnJXiHxBTAQbMGbvQFuU4KsZBB7g+RVVMbSZHgHRJXgADcjry4ZUg5mrSnp/cgY5u7EN/HM+qXaRG8Q6pH3gtve636v5ORSmRLkEHjLKQkbRroR/r3PyHjmQeQ7fL2kjbBO6RaAaBECWB4O/SjgKOBNyC7kOxLfIPaIvAS0rofBP4I/BXx4Y/YbS2tgndIvQI4uCgCiMAnAXOAI4B5wKuAA5ECTG3UbiX67U8XkoD5L6Rq6gbg30gdvpL8xbQL3qFuFEDFQxlAKpi1IzWMDkDK1860/30ZoiwTkBJtrQzXOupBHDF5ZDq6G9kTYQuSBrcF8WD2IIrgWnuvXoSuUpcKoOOjEOpztiKCd7ZRzTE8CC4gQi0iSpBHFMI3ibceBe72YhqWAIoRiEYQdEZGRkZGRkaGyv8BYcEZBeiG90YAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDEtMDlUMDA6NDY6MzkrMDg6MDC97/qTAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTAxLTA5VDAwOjQ2OjM5KzA4OjAwzLJCLwAAAEN0RVh0c29mdHdhcmUAL3Vzci9sb2NhbC9pbWFnZW1hZ2ljay9zaGFyZS9kb2MvSW1hZ2VNYWdpY2stNy8vaW5kZXguaHRtbL21eQoAAAAYdEVYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAMaf/uy8AAAAYdEVYdFRodW1iOjpJbWFnZTo6SGVpZ2h0ADI1NunDRBkAAAAXdEVYdFRodW1iOjpJbWFnZTo6V2lkdGgAMjU2ejIURAAAABl0RVh0VGh1bWI6Ok1pbWV0eXBlAGltYWdlL3BuZz+yVk4AAAAXdEVYdFRodW1iOjpNVGltZQAxNTQ2OTY1OTk55EYUXgAAABF0RVh0VGh1bWI6OlNpemUANjIxNkLRdRXqAAAAYHRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L25ld3NpdGUvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL2ZpbGVzLzUwLzUwNzY0OC5wbmfC6U99AAAAAElFTkSuQmCC");
//        dfsFile.setExt("jpg");
//        dfsFile.setFileName("feiji");
//        String imgbase = dfsFile.getBase64();
//                imgbase=imgbase.substring(imgbase.indexOf(",")+1, imgbase.length());
//                //上传图片获取图片base64码,然后解码,然后转成字节数组,以流的形式输出到本地
//                byte[] decodeBase64 = Base64.decodeBase64(imgbase);
//                String[] file = FastDFSUtils.uploadFile(decodeBase64, dfsFile.getFileName(), dfsFile.getExt());
//        dfsFile.setGroupName(file[0]);
//        dfsFile.setFileId(file[1]);
//        //base64转byte[]
//        return null;

    }
//    String groupName,String fileId
    @DeleteMapping("/delete")
    public ReturnResult delete(@RequestBody List<FastDFSFile> fastDFSFileList){
//        String groupName = "group1";
//        String fileId = "M00/00/00/J2mJ7F6j7hyAZtCzAAASos_FTB0286.jpg";
//        int i = FastDFSUtils.deleteFile(groupName,fileId);

        int i = -1;
        try{
            for (FastDFSFile item: fastDFSFileList) {
                i = FastDFSUtils.deleteFile(item.getGroupName(),item.getFileId());
            }
            if (i==0 || i==2){
                return ReturnResult.success("删除成功");
            }else {
                return ReturnResult.failure("删除失败");
            }
        }catch (Exception e){
            log.error(e.getMessage(),e);
        }
       return ReturnResult.success("删除成功");
    }
}
